(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1078:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(69),o=n.n(s),l=n(30),c=n(451),i=n(23),u=n(72),d=n(17);function p(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0;return t.hasOwnProperty(a.type)?t[a.type](n,a):n}}var m,h,f,b,g,v=p({channels:[],channelsChanged:!1},(m={},Object(i.a)(m,"POLL_CHANNELS",function(e,t){return Object(d.a)({},e,{channels:t.data.channels,channelsChanged:!1})}),Object(i.a)(m,"CLOSE_CHANNELS_SUCCEED",function(e,t){return console.log("Closed"),Object(d.a)({},e,{channels:t.data.channels,channelsChanged:!1})}),Object(i.a)(m,"PUT_CHANNELS_SUCCEED",function(e,t){return Object(d.a)({},e,{channels:[].concat(Object(u.a)(e.channels),[t.data.channels]),channelsChanged:!0})}),Object(i.a)(m,"DEPOSIT_CHANNELS_SUCCEED",function(e,t){return console.log("Closed"),Object(d.a)({},e,{channels:t.data.channels,channelsChanged:!1})}),m)),y=p({selectedTabIdx:0},Object(i.a)({},"SELECT_TAB",function(e,t){return Object(d.a)({},e,{selectedTabIdx:t.data.selectedTabIdx})})),E=p({tokens:[],tokensChanged:!1,recentlyLeftAddress:"",recentlyJoinedAddress:"",leavingNetwork:{},joiningNetwork:{}},(h={},Object(i.a)(h,"POLL_TOKENS",function(e,t){return Object(d.a)({},e,{tokens:t.data.tokens,tokensChanged:t.data.tokensChanged})}),Object(i.a)(h,"LEAVE_SUCCEED",function(e,t){return Object(d.a)({},e,{recentlyLeftAddress:t.data.tokenAddress})}),Object(i.a)(h,"JOIN_SUCCEED",function(e,t){return Object(d.a)({},e,{recentlyJoinedAddress:t.data.tokenAddress})}),h)),C=p({payments:[]},(f={},Object(i.a)(f,"GET_PAYMENTS",function(e,t){return Object(d.a)({},e,{payments:t.data.payments})}),Object(i.a)(f,"POLL_PAYMENTS",function(e,t){return Object(d.a)({},e,{payments:t.data.payments})}),Object(i.a)(f,"PAYMENT_SUCCEED",function(e,t){return Object(d.a)({},e,{payments:[].concat(Object(u.a)(e.payments),[t.data.payments])})}),f)),k=p({dashboardData:[],tokens:[]},Object(i.a)({},"DASHBOAR_DATA_SUCCEED",function(e,t){return Object(d.a)({},e,{dashboardData:t.data.allData,tokens:t.data.tokens})})),S=p({value:"",suggestions:[],noSuggestions:!1,isLoading:!1},(b={},Object(i.a)(b,"UPDATE_INPUT_VALUE",function(e,t){return Object(d.a)({},e,{value:t.value})}),Object(i.a)(b,"CLEAR_SUGGESTIONS",function(e){return Object(d.a)({},e,{suggestions:[]})}),Object(i.a)(b,"LOAD_SUGGESTIONS_BEGIN",function(e){return Object(d.a)({},e,{isLoading:!0})}),Object(i.a)(b,"NO_SUGGESTIONS",function(e,t){return Object(d.a)({},e,{noSuggestions:t.noSuggestions})}),Object(i.a)(b,"SUGGESTION",function(e,t){return Object(d.a)({},e,{suggestion:t.suggestion})}),Object(i.a)(b,"MAYBE_UPDATE_SUGGESTIONS",function(e,t){if(t.value!==e.value)return Object(d.a)({},e,{suggestions:t.suggestions,isLoading:!1})}),b));function w(e){return e-1}function N(e,t){return e.filter(function(e){return e.inputAddress!==t.data.partner_address&&e.token_address!==t.data.inputToken})}var O=p({count:0,tasks:[]},(g={},Object(i.a)(g,"TASK_PENDING",function(e,t){return Object(d.a)({},e,{count:e.count+1,tasks:[].concat(Object(u.a)(e.tasks),[t.task.task])})}),Object(i.a)(g,"TASK_COMPLETE",function(e,t){return Object(d.a)({},e,{count:w(e.count),tasks:N(e.tasks,t)})}),Object(i.a)(g,"TASK_FAILED",function(e,t){return Object(d.a)({},e,{count:w(e.count),tasks:N(e.tasks,t)})}),g)),j=Object(l.combineReducers)({state:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},channelReducer:v,tabReducer:y,tokenReducer:E,paymentReducer:C,dashboardReducer:k,searchReducer:S,taskStatusReducer:O}),L=(n(496),n(453)),T=n(8),x=n(11),A=n(9),P=n(10),_=n(181),D=n(1082),R=n(1084),M=n(1083),F=n(35),I=n(31),B=function(e){return function(t){return t(H({selectedTabIdx:e}))}},H=function(e){return{type:"SELECT_TAB",data:e}},q=n(149),U=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e="";return e=n.props.activeTab?"nav-link position-relative p-2 py-lg-3 px-lg-0 active":"nav-link position-relative p-2 py-lg-3 px-lg-0",r.a.createElement("li",{className:"nav-item"},r.a.createElement(q.a,{className:e,to:n.props.route,onClick:function(e){return n.props.handleClick(e)}},n.props.navItemContent))},n}return Object(P.a)(t,e),t}(a.Component);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var J=r.a.createElement("title",null,"Artboard"),V=r.a.createElement("desc",null,"Created with Sketch."),G=r.a.createElement("g",{id:"Artboard",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M9.83551988,14.4795804 L19.2825632,14.4795804 C19.3355373,14.4795804 19.3885114,14.4266064 19.3885114,14.3736323 L19.3885114,11.318794 C19.3885114,11.2658199 19.3355373,11.2128458 19.2825632,11.2128458 L9.83551988,11.2128458 C9.7825458,11.2128458 9.72957173,11.2658199 9.72957173,11.318794 L9.72957173,14.3736323 C9.72957173,14.4442644 9.7825458,14.4795804 9.83551988,14.4795804 Z M16.2277249,8.88198653 L19.2825632,8.88198653 C19.3355373,8.88198653 19.3885114,8.82901246 19.3885114,8.77603838 L19.3885114,5.72120007 C19.3885114,5.668226 19.3355373,5.61525192 19.2825632,5.61525192 L16.2277249,5.61525192 C16.1747508,5.61525192 16.1217767,5.668226 16.1217767,5.72120007 L16.1217767,8.77603838 C16.1217767,8.82901246 16.1747508,8.88198653 16.2277249,8.88198653 L16.2277249,8.88198653 Z M3.16078646,22.4256916 L0.105948149,22.4256916 C0.0529740747,22.4256916 0,22.4786657 0,22.5316398 L0,25.5864781 C0,25.6394522 0.0529740747,25.6924263 0.105948149,25.6924263 L3.16078646,25.6924263 C3.21376053,25.6924263 3.26673461,25.6394522 3.26673461,25.5864781 L3.26673461,22.5316398 C3.26673461,22.4786657 3.21376053,22.4256916 3.16078646,22.4256916 L3.16078646,22.4256916 Z M14.3736323,22.4256916 L11.318794,22.4256916 C11.2658199,22.4256916 11.2128458,22.4786657 11.2128458,22.5316398 L11.2128458,31.9786831 C11.2128458,32.0316572 11.2658199,32.0846313 11.318794,32.0846313 L14.3736323,32.0846313 C14.4266064,32.0846313 14.4795804,32.0316572 14.4795804,31.9786831 L14.4795804,22.5316398 C14.4795804,22.4786657 14.4266064,22.4256916 14.3736323,22.4256916 L14.3736323,22.4256916 Z M33.0558226,19.3708533 L36.110661,19.3708533 C36.163635,19.3708533 36.2166091,19.3178793 36.2166091,19.2649052 L36.2166091,16.2100669 C36.2166091,16.1570928 36.163635,16.1041187 36.110661,16.1041187 L33.0558226,16.1041187 C33.0028486,16.1041187 32.9498745,16.1570928 32.9498745,16.2100669 L32.9498745,19.2649052 C32.9498745,19.3355373 32.9851905,19.3708533 33.0558226,19.3708533 Z M27.4405707,19.3708533 L30.495409,19.3708533 C30.5483831,19.3708533 30.6013572,19.3178793 30.6013572,19.2649052 L30.6013572,9.81786185 C30.6013572,9.76488778 30.5483831,9.7119137 30.495409,9.7119137 L27.4405707,9.7119137 C27.3875966,9.7119137 27.3346226,9.76488778 27.3346226,9.81786185 L27.3346226,19.2649052 C27.3346226,19.3355373 27.3875966,19.3708533 27.4405707,19.3708533 Z M16.2277249,3.26673461 L19.2825632,3.26673461 C19.3355373,3.26673461 19.3885114,3.21376053 19.3885114,3.16078646 L19.3885114,0.105948149 C19.3885114,0.0529740747 19.3355373,0 19.2825632,0 L16.2277249,0 C16.1747508,0 16.1217767,0.0529740747 16.1217767,0.105948149 L16.1217767,3.16078646 C16.1217767,3.23141856 16.1747508,3.26673461 16.2277249,3.26673461 Z M8.77603838,22.4256916 L5.72120007,22.4256916 C5.668226,22.4256916 5.61525192,22.4786657 5.61525192,22.5316398 L5.61525192,25.5864781 C5.61525192,25.6394522 5.668226,25.6924263 5.72120007,25.6924263 L8.77603838,25.6924263 C8.82901246,25.6924263 8.88198653,25.6394522 8.88198653,25.5864781 L8.88198653,22.5316398 C8.86432851,22.4786657 8.82901246,22.4256916 8.77603838,22.4256916 Z M31.9963411,27.3346226 L22.5492978,27.3346226 C22.4963237,27.3346226 22.4433497,27.3875966 22.4433497,27.4405707 L22.4433497,30.495409 C22.4433497,30.5483831 22.4963237,30.6013572 22.5492978,30.6013572 L31.9963411,30.6013572 C32.0493152,30.6013572 32.1022893,30.5483831 32.1022893,30.495409 L32.1022893,27.4405707 C32.0846313,27.3699386 32.0493152,27.3346226 31.9963411,27.3346226 Z M38.4415202,21.7723447 L25.0567374,21.7723447 C25.0037633,21.7723447 24.9507892,21.8253188 24.9507892,21.8782929 L24.9507892,24.8448411 C24.9507892,24.8978151 25.0037633,24.9507892 25.0567374,24.9507892 L38.4415202,24.9507892 C38.4944943,24.9507892 38.5474684,24.8978151 38.5474684,24.8448411 L38.5474684,21.8782929 C38.5474684,21.8076608 38.4944943,21.7723447 38.4415202,21.7723447 Z M25.5864781,32.9322165 L22.5316398,32.9322165 C22.4786657,32.9322165 22.4256916,32.9851905 22.4256916,33.0381646 L22.4256916,36.0930029 C22.4256916,36.145977 22.4786657,36.1989511 22.5316398,36.1989511 L25.5864781,36.1989511 C25.6394522,36.1989511 25.6924263,36.145977 25.6924263,36.0930029 L25.6924263,33.0381646 C25.6924263,32.9851905 25.6571102,32.9322165 25.5864781,32.9322165 Z M16.8634138,16.9693619 C16.8634138,16.9163879 16.8104397,16.8634138 16.7574656,16.8634138 L3.37268276,16.8634138 C3.31970868,16.8634138 3.26673461,16.9163879 3.26673461,16.9693619 L3.26673461,19.9359101 C3.26673461,19.9888842 3.31970868,20.0418583 3.37268276,20.0418583 L16.7574656,20.0418583 C16.8104397,20.0418583 16.8634138,19.9888842 16.8634138,19.9359101 L16.8634138,16.9693619 Z M41.7082549,16.1217767 L38.6534165,16.1217767 C38.6004425,16.1217767 38.5474684,16.1747508 38.5474684,16.2277249 L38.5474684,19.2825632 C38.5474684,19.3355373 38.6004425,19.3885114 38.6534165,19.3885114 L41.7082549,19.3885114 C41.7612289,19.3885114 41.814203,19.3355373 41.814203,19.2825632 L41.814203,16.2277249 C41.814203,16.1570928 41.778887,16.1217767 41.7082549,16.1217767 Z M19.9359101,24.9507892 L16.9693619,24.9507892 C16.9163879,24.9507892 16.8634138,25.0037633 16.8634138,25.0567374 L16.8634138,38.4415202 C16.8634138,38.4944943 16.9163879,38.5474684 16.9693619,38.5474684 L19.9359101,38.5474684 C19.9888842,38.5474684 20.0418583,38.4944943 20.0418583,38.4415202 L20.0418583,25.0567374 C20.0418583,25.0037633 19.9888842,24.9507892 19.9359101,24.9507892 Z M24.9507892,16.7751237 L24.9507892,3.37268276 C24.9507892,3.31970868 24.8978151,3.26673461 24.8448411,3.26673461 L21.8782929,3.26673461 C21.8253188,3.26673461 21.7723447,3.31970868 21.7723447,3.37268276 L21.7723447,16.7751237 C21.7723447,16.8280977 21.8253188,16.8810718 21.8782929,16.8810718 L24.8448411,16.8810718 C24.8978151,16.8810718 24.9507892,16.8280977 24.9507892,16.7751237 Z M25.5864781,38.5474684 L22.5316398,38.5474684 C22.4786657,38.5474684 22.4256916,38.6004425 22.4256916,38.6534165 L22.4256916,41.7082549 C22.4256916,41.7612289 22.4786657,41.814203 22.5316398,41.814203 L25.5864781,41.814203 C25.6394522,41.814203 25.6924263,41.7612289 25.6924263,41.7082549 L25.6924263,38.6534165 C25.6924263,38.5827844 25.6571102,38.5474684 25.5864781,38.5474684 Z",id:"Shape",fill:"#FFFFFF",fillRule:"nonzero"})),K=function(e){var t=e.svgRef,n=Y(e,["svgRef"]);return r.a.createElement("svg",Z({width:"42px",height:"42px",viewBox:"0 0 42 42",ref:t},n),J,V,G)},Q=r.a.forwardRef(function(e,t){return r.a.createElement(K,Z({svgRef:t},e))}),z=(n.p,function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("aside",{className:"bg-dark shadow"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark p-0"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"side-bar"},r.a.createElement("div",{className:"navbar-nav flex-lg-column w-100 pt-5","aria-orientation":"vertical"},r.a.createElement(U,{navItemContent:r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fal fa-tachometer-alt"}),r.a.createElement("span",{className:"d-block"},"Dashboard")),handleClick:function(){return n.setTabIndex(0)},activeTab:0===n.props.selectedTabIdx,route:"/dashboard"}),r.a.createElement(U,{navItemContent:r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fal fa-coins"}),r.a.createElement("span",{className:"d-block position-relative"},"Tokens")),handleClick:function(){return n.setTabIndex(1)},activeTab:1===n.props.selectedTabIdx,route:"/tokens"}),r.a.createElement(U,{navItemContent:r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fal fa-chart-network"}),r.a.createElement("span",{className:"d-block"},"Channels")),handleClick:function(){return n.setTabIndex(2)},activeTab:2===n.props.selectedTabIdx,route:"/channels"}),r.a.createElement(U,{navItemContent:r.a.createElement("div",{className:"position-relative"},r.a.createElement("i",{className:"fal fa-money-bill-alt"}),r.a.createElement("span",{className:"d-block position-relative"},"Payments")),handleClick:function(){return n.setTabIndex(3)},activeTab:3===n.props.selectedTabIdx,route:"/payments"})))),r.a.createElement("div",{className:"text-center lumino-version mt-auto position-absolute w-100"},r.a.createElement(Q,null),r.a.createElement("span",{className:"d-block mb-2"},"V 0.1"),r.a.createElement("span",{className:"d-block"},r.a.createElement("a",{href:"https://twitter.com/rif_os"},"@rif_os")),r.a.createElement("span",{className:"d-block"},r.a.createElement("a",{href:"https://www.rifos.org/"},"www.rifos.org"))))},n.setTabIndex=function(e){n.props.setSelectedTabIndex(e)},n}return Object(P.a)(t,e),t}(a.Component)),W=Object(I.a)(function(e){return{selectedTabIdx:e.tabReducer.selectedTabIdx}},function(e){var t={setSelectedTabIndex:B};return Object(l.bindActionCreators)(t,e)})(z),X=n(454),$=n.n(X).a.create({baseURL:window.luminoUrl}),ee=n(97),te=function(e,t){return(e=new ee.BigNumber(e)).multipliedBy(Math.pow(10,t)).toString(10)},ne=function(e,t){return(e=new ee.BigNumber(e)).dividedBy(Math.pow(10,t)).toString(10)},ae=n(13),re=n.n(ae),se=n(22),oe=window.chainEndpoint,le=n(146),ce=n.n(le),ie=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,type:"function"},{inputs:[{name:"_initialAmount",type:"uint256"},{name:"_tokenName",type:"string"},{name:"_decimalUnits",type:"uint8"},{name:"_tokenSymbol",type:"string"}],type:"constructor"},{payable:!1,type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],ue=function e(t,n,a,r,s){Object(T.a)(this,e),this.address=t,this.name=n,this.symbol=a,this.decimals=r,this.balance=s},de=window.nodeAddress;console.log(!1);var pe=function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a,r,s,o,l,c,i,u;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=new ce.a(new ce.a.providers.HttpProvider(oe)),a=[],r=!0,s=!1,o=void 0,e.prev=5,l=t[Symbol.iterator]();case 7:if(r=(c=l.next()).done){e.next=16;break}return i=c.value,e.next=11,me(i,n);case 11:u=e.sent,a.push(u);case 13:r=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),s=!0,o=e.t0;case 22:e.prev=22,e.prev=23,r||null==l.return||l.return();case 25:if(e.prev=25,!s){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:return e.abrupt("return",a);case 31:case"end":return e.stop()}},e,null,[[5,18,22,30],[23,,25,29]])}));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(se.a)(re.a.mark(function e(t,n){var a,r,s,o,l;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=new n.eth.Contract(ie,t),e.next=3,a.methods.name.call({gasPrice:21e3});case 3:return r=e.sent,e.next=6,a.methods.symbol.call({gasPrice:21e3});case 6:return s=e.sent,e.next=9,a.methods.decimals.call({gasPrice:21e3});case 9:return o=e.sent,e.next=12,a.methods.balanceOf(de).call({gasPrice:21e3});case 12:return l=e.sent,e.abrupt("return",new ue(t,r,s,o,l));case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),he=function(e,t){var n=t.find(function(t){return t.address===e});return n?n.decimals:null},fe=function(e,t){var n=t.find(function(t){return t.address===e});return n?n.name:null},be=n(46),ge=n.n(be),ve="token",ye="channel",Ee="address",Ce=n(62),ke=function(e){var t=[];return e.results&&(e.results.token_address_matches.forEach(function(e){}),e.results.node_address_matches.forEach(function(e){e!==de&&t.push({value:e,type:Ee})}),e.results.channel_identifiers_matches.forEach(function(e){var n={id:e.id,tokenAddress:e.token_address,networkId:e.token_network_identifier,partnerAddress:e.partner_address};t.push({value:n,type:ye})}),e.results.rns_address_matches.forEach(function(e){t.push({value:e,type:Ee})})),0===t.length&&t.push({value:"No suggestions"}),t},Se=function(e,t){var n={};switch(e){case"openChannel":n.inputAddress=t.inputAddress,n.inputToken=t.inputToken,n.inputAmount=t.inputAmount,n.type="openChannel",n.typeLabel="Open Channel",n.detail="Address: "+n.inputAddress+"\nToken: "+n.inputToken+"\nAmount: "+n.inputAmount;break;case"closeChannel":n.token=t.token,n.partner=t.partner,n.type="closeChannel",n.typeLabel="Close Channel",n.detail="Token: "+n.token+"\nPartner: "+n.partner;break;case"joinNetwork":n.token=t.token,n.funds=t.funds,n.type="joinNetwork",n.typeLabel="Join Network",n.detail="Token: ".concat(n.token,'\n"Funds: ').concat(n.funds);break;case"leaveNetwork":n.token=t.token,n.funds=t.funds,n.type="leaveNetwork",n.typeLabel="Leave Network",n.detail="Token: "+n.token+"\nFunds: "+n.funds;break;case"deposit":n.token=t.token,n.partner=t.partner,n.type="deposit",n.typeLabel="Deposit",n.detail="Token: "+n.token+"\nPartner: "+n.partner;break;case"payment":n.token=t.token,n.partner=t.partner,n.type="payment",n.typeLabel="Payment",n.detail="Token: "+n.token+"\nPartner: "+n.partner;break;default:return null}return n},we=function(e){var t={title:"Error",body:"Request Failed"};return e&&e.data&&(t.body=e.data.errors),t},Ne=function(e,t){var n={};switch(t){case"new_channel":n={title:"New Channel",body:"A new channel: "+e.channel_identifier+"\n was opened with "+e.partner_address+" on token "+e.token_address};break;case"balance_update":n={title:"Balance Update",body:"The balance of channel: "+e.channel_identifier+"\n with "+e.partner_address+" was updated by "+e.balance+" tokens"};break;case"close_channel":n={title:"Close",body:"The channel: "+e.channel_identifier+"\n with partner "+e.partner_address+" has been closed successfully "};break;case"deposit_channel":n={title:"Deposit",body:"The channel: "+e.channel_identifier+"\n has been modified with a deposit of "+e.balance};break;case"payment":n={title:"Transfer successful",body:"A payment of: "+e.amount+"\n was successfully sent to the partner "+e.target_address};break;case"join_network":n={title:"Join Network",body:"The request has completed successfully"};break;case"leave_network":n={title:"Leave Network",body:"The request has completed successfully"};break;default:n="The request has been successfully completed"}return n},Oe=function(e,t){var n=function(e,t){var n=we(e);e&&e.status&&(n="success"===Te(e.status)?Ne(e.data,t):we(e));return n}(e,t),a=void 0;e&&e.status&&(a=Te(e.status)),"success"===a?Le(n):je(n)},je=function(e){Ce.toast.error(r.a.createElement(xe,{data:e}),{autoClose:!1,position:Ce.toast.POSITION.TOP_RIGHT})},Le=function(e){Ce.toast.success(r.a.createElement(xe,{data:e}),{position:Ce.toast.POSITION.TOP_RIGHT})},Te=function(e){var t="error";return e>=200&&e<300&&(t="success"),t},xe=function(e){var t=e.data;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("b",null,t.title)),r.a.createElement("p",null,t.body)))},Ae=function(e){return{type:e,data:{}}},Pe=function(){return function(e,t){return new Promise(function(n,a){return $.get("/api/v1/channels").then(function(a){return n(e(Me(a.data,Fe(t().channelReducer.channels,a.data))))}).catch(function(e){console.log(JSON.stringify(e))})})}},_e=function(e,t,n,a){return function(r,s){return new Promise(function(o,l){return $.put("/api/v1/channels",{partner_address:e,token_address:t,total_deposit:te(n,he(t,s().tokenReducer.tokens)),settle_timeout:a}).then(function(e){return Oe(e,"balance_update"),o(r(Ae("TASK_COMPLETE")))}).catch(function(e){return console.log(JSON.stringify(e)),Oe(e.response,null),o(r(Ae("TASK_FAILED")))})})}},De=function(e,t){return function(n,a){return new Promise(function(a,r){return $.patch("/api/v1/channels/"+e+"/"+t,{state:"closed"}).then(function(e){return Oe(e,"close_channel"),a(n(Ae("TASK_COMPLETE")))}).catch(function(e){return console.log(JSON.stringify(e)),Oe(e.response,null),a(n(Ae("TASK_FAILED")))})})}},Re=function(e,t,n,a){return function(r,s){return new Promise(function(o,l){return $.patch("/api/v1/channels/".concat(e,"/").concat(t),{total_deposit:Number(te(n,he(e,s().tokenReducer.tokens)))+Number(a)}).then(function(e){return Oe(e,"deposit_channel"),o(r(Ae("TASK_COMPLETE")))}).catch(function(e){return console.log(JSON.stringify(e)),Oe(e.response,null),o(r(Ae("TASK_FAILED")))})})}},Me=function(e,t){return{type:"POLL_CHANNELS",data:{channels:e,channelsChanged:t}}},Fe=function(e,t){var n,a=!1,r=t.filter((n=e,function(e){return 0===n.filter(function(t){return t.channel_identifier===e.channel_identifier}).length}));return r.length>0?r&&(r.forEach(function(e,t){Oe({status:201,data:e},"new_channel")}),a=!0):a=!1,a};var Ie=n(309),Be=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("div",null,n.props.render())},n}return Object(P.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timmer=Object(Ie.a)(this.props.dueTime,this.props.periodOfScheduler),this.subscription=this.timmer.subscribe(function(){var t=Object(se.a)(re.a.mark(function t(n){return re.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.pollAction();case 2:if(!e.props.dataChanged){t.next=5;break}return t.next=5,e.props.onDataChanged();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe(),this.timmer=null}}]),t}(a.Component),He=(n(811),"ALL_STATUSES"),qe="SORT_BY_SELECTED",Ue="symbol",Ze="name",Ye="balance",Je="channel_identifier",Ve="partner_address",Ge="token_address",Ke="state",Qe="SORT_DESC",ze="SORT_ASC",We={name:String,symbol:String,balance:Number,channel_identifier:Number,partner_address:String,token_address:String,state:String},Xe=function(e,t,n,a,r,s){return function(o,l){return new Promise(function(l,c){var i=[],u=[];ge.a.isEmpty(e)||e.startsWith("0x")&&42===e.length&&(i.push("initiator_address"),u.push(e)),ge.a.isEmpty(t)||t.startsWith("0x")&&42===t.length&&(i.push("target_address"),u.push(t)),ge.a.isEmpty(r)||r===He||(i.push("event_type"),u.push(r)),n&&(i.push("from_date"),u.push(n.toISOString())),a&&(i.push("to_date"),u.push(a.toISOString())),ge.a.isEmpty(s)||(i.push("token_network_identifier"),u.push(s));var d=function(e,t){for(var n={},a=0;a<e.length;a++)ge.a.isEmpty(t[a])||(n[e[a]]=t[a]);return n}(i,u);$e(d).then(function(e){return l(o(rt(e)))}).catch(function(e){console.log(e)})})}},$e=function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Object(d.a)({},t),!(a=n.event_type)){e.next=10;break}e.t0=a,e.next="1"===e.t0?6:"2"===e.t0?7:"3"===e.t0?8:9;break;case 6:return e.abrupt("return",tt(t));case 7:return e.abrupt("return",nt(t));case 8:return e.abrupt("return",et(t));case 9:return e.abrupt("return",nt(t));case 10:return e.abrupt("return",et(t));case 13:e.prev=13,e.t1=e.catch(0),console.log(JSON.stringify(e.t1));case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(se.a)(re.a.mark(function e(t){var n;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.get("/api/v1/paymentsLumino",{params:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a,r,s;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(d.a)({},t),a=n.initiator_address,r=n.target_address,(s=Object(d.a)({},t)).initiator_address=r,s.target_address=a,e.abrupt("return",et(s));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(se.a)(re.a.mark(function e(t){var n,a;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([et(t),tt(t)]);case 3:return n=e.sent,a=[].concat(Object(u.a)(n[0]),Object(u.a)(n[1])),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),at=function(e,t,n){return function(a,r){return new Promise(function(s,o){return $.post("/api/v1/payments/"+t+"/"+e,{amount:te(n,he(t,r().tokenReducer.tokens))}).then(function(e){return Oe(e,"payment"),s(Promise.all([a(Ae("TASK_COMPLETE")),a(st(e.data))]))}).catch(function(e){return console.log(JSON.stringify(e)),Oe(e.response,null),s(a(Ae("TASK_FAILED")))})})}},rt=function(e){return{type:"GET_PAYMENTS",data:{payments:e}}},st=function(e){return{type:"PAYMENT_SUCCEED",data:{payments:e}}},ot=n(33),lt="opened",ct="closed",it="waiting_for_close",ut=n(28),dt=n.n(ut),pt=n(75),mt=n.n(pt),ht=n(100),ft=n.n(ht),bt=function(e){function t(e,n){var a;return Object(T.a)(this,t),(a=Object(x.a)(this,Object(A.a)(t).call(this,e,n))).handleDeposit=function(){a.props.incrementTaskPending(Se("deposit",{token:a.props.token,partner:a.props.partner})),a.props.depositChannel(a.props.token,a.props.partner,a.state.inputAmount,a.props.balance),a.handleClose()},a.render=function(){var e="badge ml-1",t={value:{id:a.props.id,networkId:a.props.networkId,partnerAddress:a.props.partner,tokenAddress:a.props.token,tokenName:a.props.tokenName},type:ye};switch(a.props.state){case lt:e+=" badge-success";break;case ct:e+=" badge-dark";break;case it:e+=" badge-warning";break;default:e+=""}return r.a.createElement("li",{className:"col-12 my-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body d-md-flex px-0 align-items-center py-4"},r.a.createElement("ul",{className:"px-3 my-3 list-unstyled"},r.a.createElement("li",null,r.a.createElement("b",null,"ID:")," ",r.a.createElement("span",{className:"text-blue ml-1"},a.props.id)),r.a.createElement("li",null,r.a.createElement("b",null,"Address:")," ",r.a.createElement("span",{className:"text-blue ml-1"},a.props.partner)),r.a.createElement("li",null,r.a.createElement("b",null,"Token Name:")," ",r.a.createElement("span",{className:"text-blue ml-1"},a.props.tokenName)),r.a.createElement("li",null,r.a.createElement("b",null,"Token Address:")," ",r.a.createElement("span",{className:"text-blue ml-1"},a.props.token)),r.a.createElement("li",null,r.a.createElement("b",null,"Balance:")," ",r.a.createElement("span",{className:"text-blue ml-1"},ne(a.props.balance,a.props.tokenDecimals))),r.a.createElement("li",null,r.a.createElement("b",null,"Status:")," ",r.a.createElement("span",{className:e},a.props.state))),r.a.createElement("div",{className:"ml-auto text-center px-3 pl-lg-0"},r.a.createElement("button",{className:"btn py-lg-3 d-lg-block btn-pay text-white mb-md-3 mr-2 ml-md-0",onClick:a.handleShowPayment},"PAY!"),r.a.createElement("button",{className:"btn btn-blue text-white mr-md-2 mr-2",onClick:a.handleShow},"Deposit"),r.a.createElement("button",{className:"btn btn btn-outline-dark ml-md-2 mr-md-0 mr-2",onClick:a.handleModalShowChannel},"Close"),r.a.createElement(q.a,{className:"btn d-lg-block shadow-none mt-md-3 btn-secondary btn-view-detail",to:"/channelDetail",onClick:function(){return a.props.selectedSuggestion(t)}},"View Details")))),r.a.createElement(dt.a,{show:a.state.show,onHide:a.handleClose,centered:!0},r.a.createElement(dt.a.Header,{closeButton:!0},r.a.createElement(dt.a.Title,null,"Deposit")),r.a.createElement(dt.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(ft.a,{value:a.state.inputAmount,className:"form-control shadow-none",placeholder:"Amount",onValueChange:function(e){return a.handleChangeAmount(e)}}))),r.a.createElement(dt.a.Footer,null,r.a.createElement(mt.a,{className:"btn-pay border-0 btn-block py-3",variant:"primary",onClick:function(){return a.handleDeposit()}},"Deposit"))),r.a.createElement(dt.a,{show:a.state.showPayment,onHide:a.handleClosePayment,centered:!0},r.a.createElement(dt.a.Header,{closeButton:!0},r.a.createElement(dt.a.Title,null,"Payment")),r.a.createElement(dt.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(ft.a,{value:a.state.inputAmount,className:"form-control shadow-none",placeholder:"Amount",onValueChange:function(e){return a.handleChangeAmountPayment(e)}}))),r.a.createElement(dt.a.Footer,null,r.a.createElement(mt.a,{className:"btn-pay border-0 btn-block py-3",variant:"primary",onClick:function(){return a.handleMakePayment()}},"PAY"))),r.a.createElement(dt.a,{show:a.state.showChannel,onHide:a.handleModalCloseChannel,centered:!0},r.a.createElement(dt.a.Header,{closeButton:!0},r.a.createElement(dt.a.Title,null,"Close Channel")),r.a.createElement(dt.a.Body,null,r.a.createElement("p",null,"Are you sure you want to close channel ",r.a.createElement("b",null,a.props.id)," ","with: ",r.a.createElement("b",null,a.props.partner)," on token:"," ",r.a.createElement("b",null,a.props.token))),r.a.createElement(dt.a.Footer,null,r.a.createElement(mt.a,{className:"btn-close border-0 btn-block py-3",variant:"primary",onClick:function(){return a.handleCloseChannel()}},"CLOSE"))))},a.state={show:!1,showPayment:!1,showChannel:!1,inputAmount:"",inputSettleTimeOut:500},a.handleShow=a.handleShow.bind(Object(ot.a)(a)),a.handleClose=a.handleClose.bind(Object(ot.a)(a)),a.handleShowPayment=a.handleShowPayment.bind(Object(ot.a)(a)),a.handleClosePayment=a.handleClosePayment.bind(Object(ot.a)(a)),a.handleModalShowChannel=a.handleModalShowChannel.bind(Object(ot.a)(a)),a.handleModalCloseChannel=a.handleModalCloseChannel.bind(Object(ot.a)(a)),a.handleChangeAmount=a.handleChangeAmount.bind(Object(ot.a)(a)),a.handleChangeAmountPayment=a.handleChangeAmountPayment.bind(Object(ot.a)(a)),a.handleMakePayment=a.handleMakePayment.bind(Object(ot.a)(a)),a.handleCloseChannel=a.handleCloseChannel.bind(Object(ot.a)(a)),a}return Object(P.a)(t,e),Object(F.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleClosePayment",value:function(){this.setState({showPayment:!1})}},{key:"handleShowPayment",value:function(){this.setState({showPayment:!0})}},{key:"handleModalCloseChannel",value:function(){this.setState({showChannel:!1})}},{key:"handleModalShowChannel",value:function(){this.setState({showChannel:!0})}},{key:"handleChangeAmount",value:function(e){this.setState({inputAmount:e.value})}},{key:"handleChangeAmountPayment",value:function(e){this.setState({inputAmount:e.value})}},{key:"handleMakePayment",value:function(){this.props.incrementTaskPending(Se("payment",{token:this.props.token,partner:this.props.partner})),this.props.payChannel(this.props.partner,this.props.token,this.state.inputAmount),this.handleClosePayment()}},{key:"handleCloseChannel",value:function(){this.props.incrementTaskPending(Se("closeChannel",{token:this.props.token,partner:this.props.partner})),this.props.closeChannel(this.props.token,this.props.partner),this.handleModalCloseChannel()}}]),t}(a.Component),gt=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=n.props.tokens,t=[];return n.props.channelList&&(t=n.props.channelList.map(function(t){var a=he(t.token_address,e),s=e.find(function(e){return e.address===t.token_address});return r.a.createElement(bt,{key:t.channel_identifier,id:t.channel_identifier,networkId:t.token_network_identifier,state:t.state,balance:t.balance,token:t.token_address,tokenName:s?s.name:null,partner:t.partner_address,closeChannel:n.props.closeChannel,depositChannel:n.props.depositChannel,payChannel:n.props.payChannel,tokenDecimals:a,incrementTaskPending:n.props.incrementTaskPending,selectedSuggestion:n.props.selectedSuggestion})})),r.a.createElement("ul",{className:"list-unstyled row channel-list"},t)},n}return Object(P.a)(t,e),t}(a.Component),vt=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group m-0"},r.a.createElement("input",{type:"email",className:"form-control text-white rounded-0 bg-transparent",id:"token-name",placeholder:"Token name",onChange:n.props.onTokenFilterChange}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group m-0"},r.a.createElement("input",{type:"email",className:"form-control text-white  rounded-0 bg-transparent",id:"partner-address",placeholder:"Partner address",onChange:n.props.onPartnerFilterChange}))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("select",{className:"custom-select bg-transparent",onChange:n.props.onSortByChange},r.a.createElement("option",{defaultValue:!0,value:qe},"Sort by"),r.a.createElement("option",{value:Je},"Channel"),r.a.createElement("option",{value:Ve},"Partner"),r.a.createElement("option",{value:Ge},"Token"),r.a.createElement("option",{value:Ye},"Balance"),r.a.createElement("option",{value:Ke},"Status"))))},n}return Object(P.a)(t,e),t}(a.Component),yt=function(e,t,n){return e.filter(function(e){var a=!1,r=!0,s=!1,o=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){if(e[l.value].toLowerCase().includes(n.toLowerCase())){a=!0;break}}}catch(i){s=!0,o=i}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}return a})},Et=function(e,t,n,a,r){return ge.a.isEmpty(a)||ge.a.isEmpty(r)?ge.a.isEmpty(a)?ge.a.isEmpty(r)?e:yt(e,[n],r):yt(e,[t],a):e.filter(function(e){var s=!1;return e[t].toLowerCase().includes(a.toLowerCase())&&e[n].toLowerCase().includes(r.toLowerCase())&&(s=!0),s})},Ct=function(e,t,n,a){return e.sort(function(e,r){return function(e,t,n,a,r){switch(a){case Number:e[n]=Number(e[n])}switch(r){case ze:return e[n]<t[n]?-1:e[n]>t[n]?1:0;case Qe:return e[n]<t[n]?1:e[n]>t[n]?-1:0;default:return 0}}(e,r,t,n,a)})},kt=function(e){var t=e.map(function(e){return e.address});return new Promise(function(n,a){return $.get("/api/v1/channelsLumino",{params:{token_addresses:t.join()}}).then(function(t){var a=!0,r=!1,s=void 0;try{for(var o,l=function(){var t=o.value,n=e.find(function(e){return e.address===t.token_address});n&&(n.joineable=t.can_join)},c=t.data[Symbol.iterator]();!(a=(o=c.next()).done);a=!0)l()}catch(i){r=!0,s=i}finally{try{a||null==c.return||c.return()}finally{if(r)throw s}}return n(e)}).catch(function(e){return console.log(JSON.stringify(e)),a(null)})})},St=function(e){return function(t,n){return new Promise(function(n,a){return $.delete("/api/v1/connections/"+e).then(function(){var a=Object(se.a)(re.a.mark(function a(r){return re.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Ce.toast.success("The request has been successfully completed"),a.abrupt("return",n(t(wt(e))));case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(e){return Ce.toast.error("An error occurred while processing the request"),console.log(JSON.stringify(e)),a(null)})})}},wt=function(e){return{type:"LEAVE_SUCCEED",data:{tokenAddress:e}}},Nt=function(e,t){return function(n,a){return new Promise(function(r,s){return $.put("/api/v1/connections/"+e,{funds:te(t,he(e,a().tokenReducer.tokens))}).then(function(){var t=Object(se.a)(re.a.mark(function t(a){return re.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Oe(a,"join_network"),t.abrupt("return",r(Promise.all([n(Ae("TASK_COMPLETE")),n(Ot(e))])));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return Oe(e.response,null),console.log(JSON.stringify(e)),r(n(Ae("TASK_FAILED")))})})}},Ot=function(e){return{type:"JOIN_SUCCEED",data:{tokenAddress:e}}},jt=function(){return function(e,t){return new Promise(function(n,a){return $.get("/api/v1/tokens").then(function(){var a=Object(se.a)(re.a.mark(function a(r){var s;return re.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe(r.data);case 2:return s=a.sent,a.next=5,kt(s);case 5:return s=a.sent,a.abrupt("return",n(e(Lt(s,Tt(t().tokenReducer.tokens,s)))));case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(e){console.log(JSON.stringify(e))})})}},Lt=function(e,t){return{type:"POLL_TOKENS",data:{tokens:e,tokensChanged:t}}},Tt=function(e,t){return e.length!==t.length},xt=function(e){return function(t){return t(At({task:e}))}},At=function(e){return{type:"TASK_PENDING",task:e}},Pt=function(e){return function(t,n){return new Promise(function(n,a){return $.get("/api/v1/searchLumino",{params:{query:e}}).then(function(e){if(e){var n=ke(e.data);return 0===n.length?t(Ft(!0)):t(Ft(!1)),t(Mt(n))}}).catch(function(e){console.log(JSON.stringify(e))})})}},_t=function(e,t){var n=t.newValue;return{type:"UPDATE_INPUT_VALUE",value:"undefined"!==typeof n?n:""}},Dt=function(){return{type:"CLEAR_SUGGESTIONS"}},Rt=function(){return{type:"LOAD_SUGGESTIONS_BEGIN"}},Mt=function(e,t){return{type:"MAYBE_UPDATE_SUGGESTIONS",suggestions:e,value:t}},Ft=function(e){return{type:"NO_SUGGESTIONS",noSuggestions:e}},It=function(e){return{type:"SUGGESTION",suggestion:e}},Bt=n(1080),Ht=n(1081),qt=n(455),Ut=n.n(qt),Zt=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).handleClose=function(){n.setState({show:!1})},n.handleChangeAddress=function(e){n.setState({inputAddress:e.target.value})},n.handleChangeToken=function(e){n.setState({inputToken:e.target.value})},n.handleChangeAmount=function(e){n.setState({inputAmount:e.value})},n.onPartnerSuggestionsClearRequested=function(){n.setState({partnerSuggestions:[]})},n.onTokenSuggestionsClearRequested=function(){n.setState({tokensSuggestions:[]})},n.onPartnerSelected=function(e,t){var a=t.suggestion;n.setState({inputAddress:a.value})},n.onTokenSelected=function(e,t){var a=t.suggestion;n.setState({inputToken:a.value})},n.fetchPaymentSuggestions=function(){var e=Object(se.a)(re.a.mark(function e(t){var a,r;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.get("/api/v1/searchLumino",{params:{query:t,only_receivers:!0}});case 3:(a=e.sent)&&(r=ke(a.data),n.setState({partnerSuggestions:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),n.getTokensSuggestions=function(e){if(null!=e&&""!==e){var t=Object(d.a)({},n.props).tokens,a=[];t&&t.length>0&&t.forEach(function(n,r){n.address.toLowerCase().includes(e.toLowerCase())&&a.push({value:n.address,type:ve,label:"".concat(fe(n.address,t)," - ").concat(t[r].address)})}),n.setState({tokensSuggestions:a})}},n.handleOpenChannel=function(){var e=Object(d.a)({},n.props).partner;return n.props.incrementTaskPending(Se("openChannel",n.state)),n.props.putChannel(e||n.state.inputAddress,n.state.inputToken,n.state.inputAmount,n.state.inputSettleTimeOut),n.props.handleClose()},n.state={show:e.show,partnerSuggestions:[],tokensSuggestions:[],inputAddress:"",inputAmount:"",inputToken:""},n}return Object(P.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=Object(d.a)({},this.props).partner;return r.a.createElement(Bt.a,{show:this.props.show,onHide:this.props.handleClose,centered:!0},r.a.createElement(Bt.a.Header,{closeButton:!0},r.a.createElement(Bt.a.Title,null,"Create New Channel")),r.a.createElement(Bt.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(Jt,{placeholder:"Partner address",suggestions:this.state.partnerSuggestions,value:e||this.state.inputAddress,onSuggestionsFetchRequested:this.fetchPaymentSuggestions,onSuggestionsClearRequested:this.onPartnerSuggestionsClearRequested,onChange:this.handleChangeAddress,onSuggestionSelected:this.onPartnerSelected})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Jt,{placeholder:"Token address",suggestions:this.state.tokensSuggestions,value:this.state.inputToken,onSuggestionsFetchRequested:this.getTokensSuggestions,onSuggestionsClearRequested:this.onTokenSuggestionsClearRequested,onChange:this.handleChangeToken,onSuggestionSelected:this.onTokenSelected})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ft.a,{value:this.state.inputAmount,className:"form-control shadow-none",placeholder:"Amount",onValueChange:this.handleChangeAmount}))),r.a.createElement(Bt.a.Footer,null,r.a.createElement(Ht.a,{className:"btn-pay border-0 btn-block py-3",variant:"primary",onClick:this.handleOpenChannel},"Create")))}}]),t}(a.Component),Yt=Object(I.a)(function(e){return{tokens:e.tokenReducer.tokens}},function(e){var t={putChannel:_e,incrementTaskPending:xt};return Object(l.bindActionCreators)(t,e)})(Zt),Jt=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).state={show:!1,partner:""},n.getSuggestionValue=function(e){return e.name},n.handleClick=function(e,t){n.props.selectedSuggestion(e),t&&n.setState({show:!0,partner:e.value})},n.handleClose=function(){n.setState({show:!1,partner:""})},n.renderSuggestion=function(e){var t,a="fal mr-2 fa-lg align-middle fa-fw",s="",o=!1;switch(e.type){case ve:a+=" fa-coins",s="/tokenDetail";break;case ye:a+=" fa-chart-network",s="/channelDetail";break;case Ee:a+=" fa-address-card",o=!0;break;default:a+=""}return t=n.props.redirect?"channel"===e.type?r.a.createElement(q.a,{className:"btn btn-block text-left",to:s,onClick:function(){return n.handleClick(e)}},r.a.createElement("i",{className:a}),e.value.id," - ",e.value.tokenAddress):"address"===e.type?r.a.createElement("span",{className:"btn btn-block text-left",onClick:function(){return n.handleClick(e,o)}},r.a.createElement("i",{className:a}),e.value):r.a.createElement(q.a,{className:"btn btn-block text-left",to:s,onClick:function(){return n.handleClick(e,o)}},r.a.createElement("i",{className:a}),e.value):"token"===e.type?r.a.createElement("div",{className:"btn btn-block text-left"},r.a.createElement("i",{className:a}),e.label):r.a.createElement("div",{className:"btn btn-block text-left"},r.a.createElement("i",{className:a}),e.value),r.a.createElement("div",null,t)},n.onSuggestionsFetchRequested=function(e){var t=e.value;n.props.loadSuggestionsBegin&&n.props.loadSuggestionsBegin(),t&&n.props.onSuggestionsFetchRequested(t.trim().toLowerCase())},n}return Object(P.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.suggestions,a=e.onChange,s=e.onSuggestionsClearRequested,o={placeholder:this.props.placeholder,value:t,onChange:a};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ut.a,{suggestions:n,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:s,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:o,onSuggestionSelected:this.props.onSuggestionSelected}),r.a.createElement(Yt,{show:this.state.show,partner:this.state.partner,handleClose:this.handleClose}))}}]),t}(a.Component),Vt=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).handleChangeAddress=function(e,t){var a=t.newValue;n.setState({inputAddress:"undefined"!==typeof a?a:""})},n.onPartnerSelected=function(e,t){var a=t.suggestion;n.setState({inputAddress:a.value})},n.onPartnerSuggestionsClearRequested=function(){n.setState({partnerSuggestions:[]})},n.onTokenSelected=function(e,t){var a=t.suggestion;n.setState({inputToken:a.value})},n.onTokenSuggestionsClearRequested=function(){n.setState({tokensSuggestions:[]})},n.handleChangeToken=function(e,t){var a=t.newValue;n.setState({inputToken:"undefined"!==typeof a?a:""})},n.handleChangeAmount=function(e){n.setState({inputAmount:e.target.value})},n.fetchPaymentSuggestions=function(){var e=Object(se.a)(re.a.mark(function e(t){var a,r,s;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={query:t,only_receivers:!0},e.next=4,$.get("/api/v1/searchLumino",{params:a});case 4:if(!(r=e.sent)){e.next=8;break}return s=ke(r.data),e.abrupt("return",n.setState({partnerSuggestions:s}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),n.getTokensSuggestions=function(e){if(null!=e&&""!==e){var t=[],a=Object(d.a)({},n.props).tokens;a&&a.length>0&&a.forEach(function(n){n.address.toLowerCase().includes(e.toLowerCase())&&t.push({value:n.address,type:ve,label:"".concat(fe(n.address,a)," - ").concat(n.address)})}),n.setState({tokensSuggestions:t})}},n.handleClose=function(){n.props.handleClose()},n.handleQuickPayments=function(){var e=Object(d.a)({},n.props).quickPayment,t=Object(d.a)({},n.state);e(t.inputAddress,t.inputToken,t.inputAmount),n.handleClose()},n.render=function(){return r.a.createElement(Bt.a,{show:n.props.show,onHide:n.props.handleClose,centered:!0},r.a.createElement(Bt.a.Header,{closeButton:!0},r.a.createElement(Bt.a.Title,null,"Quick Payment")),r.a.createElement(Bt.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(Jt,{placeholder:"Partner address",suggestions:n.state.partnerSuggestions,value:n.state.inputAddress,onSuggestionsFetchRequested:n.fetchPaymentSuggestions,onSuggestionsClearRequested:n.onPartnerSuggestionsClearRequested,onChange:n.handleChangeAddress,onSuggestionSelected:n.onPartnerSelected})),r.a.createElement("div",{className:"form-group"},r.a.createElement(Jt,{placeholder:"Token address",suggestions:n.state.tokensSuggestions,value:n.state.inputToken,onSuggestionsFetchRequested:n.getTokensSuggestions,onSuggestionsClearRequested:n.onTokenSuggestionsClearRequested,onChange:n.handleChangeToken,onSuggestionSelected:n.onTokenSelected})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control shadow-none",id:"","aria-describedby":"",placeholder:"Amount:",value:n.state.inputAmount,onChange:n.handleChangeAmount}))),r.a.createElement(Bt.a.Footer,null,r.a.createElement(Ht.a,{className:"btn-pay border-0 btn-block py-3",variant:"primary",onClick:n.handleQuickPayments},"PAY")))},n.state={partnerSuggestions:[],tokensSuggestions:[],inputAddress:"",inputToken:"",inputAmount:""},n}return Object(P.a)(t,e),t}(a.Component),Gt=Object(I.a)(function(e){return{searchResults:e.searchReducer.results,value:e.searchReducer.value,suggestions:e.searchReducer.suggestions,tokens:e.dashboardReducer.tokens}},function(e){var t={quickPayment:at,onChange:_t,onSuggestionsFetchRequested:Pt,onSuggestionsClearRequested:Dt};return Object(l.bindActionCreators)(t,e)})(Vt),Kt=function(e){function t(e,n){var a;return Object(T.a)(this,t),(a=Object(x.a)(this,Object(A.a)(t).call(this,e,n))).handleShow=function(){a.setState({show:!0})},a.handleClose=function(){a.setState({show:!1})},a.handleCloseChannel=function(e,t){a.props.closeChannel(e,t)},a.handleDepositChannel=function(e,t,n,r){a.props.depositChannel(e,t,n,r)},a.handleQuickPayments=function(e,t,n){a.props.quickPayment(e,t,n)},a.handleOpenQuickPayment=function(){a.setState({showQuickPayment:!0})},a.handleCloseQuickPayment=function(){a.setState({showQuickPayment:!1})},a.handleFilterTokenNameChange=function(e){return a.setState({filterTokenName:e.target.value})},a.handleFilterPartnerAddressChange=function(e){return a.setState({filterPartnerAddress:e.target.value})},a.handleSortByChange=function(e){return a.setState({sortBy:e.target.value})},a.filterChannels=function(){return a.props.channels&&a.props.channels.length>0&&(a.state.filterTokenName||a.state.filterPartnerAddress)?Et(a.props.channels,"token_address","partner_address",a.state.filterTokenName,a.state.filterPartnerAddress):a.props.channels},a.applyFiltersAndSorting=function(){var e=a.filterChannels(),t=We[a.state.sortBy];if(e)return t===String?Ct(e,a.state.sortBy,We[a.state.sortBy],ze):Ct(e,a.state.sortBy,We[a.state.sortBy],Qe)},a.getData=function(){a.props.pollChannels(),a.props.pollTokens()},a.render=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"py-2 px-5 filters-bar"},r.a.createElement(vt,{onTokenFilterChange:a.handleFilterTokenNameChange,onPartnerFilterChange:a.handleFilterPartnerAddressChange,onSortByChange:a.handleSortByChange})),r.a.createElement(Be,{render:a.renderPolling,pollAction:a.props.pollChannels,dueTim:0,periodOfScheduler:2e3}),r.a.createElement(Be,{render:function(){return null},pollAction:a.props.pollTokens,dueTim:0,periodOfScheduler:3e4}),r.a.createElement("div",{className:"container-fluid px-5"},r.a.createElement("div",{className:"row my-3"},r.a.createElement("div",{className:"col text-right"},r.a.createElement("button",{type:"button",name:"button",className:"btn btn-lg btn-green",onClick:a.handleShow},"New Channel"," ",r.a.createElement("i",{className:"fal fa-chart-network fa-lg ml-2 pl-2 border-left align-middle"}))),r.a.createElement("button",{type:"button",name:"button",className:"btn btn-lg btn-green",onClick:a.handleOpenQuickPayment},"Quick Payment",r.a.createElement("i",{className:"fal fa-money-bill-alt fa-lg ml-2 pl-2 border-left align-middle"})))),r.a.createElement("div",{className:"container-fluid px-5"},r.a.createElement(gt,{incrementTaskPending:a.props.incrementTaskPending,channelList:a.applyFiltersAndSorting(),closeChannel:function(e,t){return a.handleCloseChannel(e,t)},depositChannel:a.handleDepositChannel,payChannel:function(e,t,n){return a.handleQuickPayments(e,t,n)},tokens:a.props.tokens,selectedSuggestion:a.props.selectedSuggestion})),r.a.createElement(Gt,{show:a.state.showQuickPayment,handleClose:a.handleCloseQuickPayment}),r.a.createElement(Yt,{handleClose:a.handleClose,show:a.state.show}))},a.renderPolling=function(){return null},a.state={show:!1,showQuickPayment:!1,inputAddress:"",inputToken:"",inputAmount:"",inputSettleTimeOut:500,inputAmountPayment:"",filterTokenName:void 0,filterPartnerAddress:void 0,sortBy:Ze,partnerSuggestions:[],tokensSuggestions:[]},a}return Object(P.a)(t,e),t}(a.Component),Qt=Object(I.a)(function(e){return{channels:e.channelReducer.channels,channelsChanged:e.channelReducer.channelsChanged,tokens:e.tokenReducer.tokens}},function(e){var t={pollChannels:Pe,putChannel:_e,incrementTaskPending:xt,closeChannel:De,depositChannel:Re,quickPayment:at,pollTokens:jt,selectedSuggestion:It};return Object(l.bindActionCreators)(t,e)})(Kt),zt=n(152),Wt=n.n(zt),Xt=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("li",{className:"col-xl-6 mb-4 my-lg-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body align-items-center d-flex p-0"},r.a.createElement("p",{className:"m-0 px-3 my-3"},n.props.symbol," ",r.a.createElement("br",null),r.a.createElement("small",null,n.props.name)),r.a.createElement("ul",{className:"px-3 list-unstyled border-left"},r.a.createElement("li",null,r.a.createElement("b",null,"Address:")," ",r.a.createElement("span",{className:"text-blue data-address align-middle d-inline-block"},n.props.address),r.a.createElement(Wt.a,{"data-clipboard-text":n.props.address,className:"btn btn-copy-address text-green ml-1"},r.a.createElement("i",{className:"fal fa-copy align-middle"}))),r.a.createElement("li",null,r.a.createElement("b",null,"Balance:")," ",r.a.createElement("span",{className:"text-blue"},n.props.balance))),n.props.joineable&&r.a.createElement("button",{className:"btn btn-join-network text-center ml-auto text-white h-100 py-4",onClick:function(){return n.props.openJoinNetworkModal(n.props.address)}},r.a.createElement("i",{className:"fal fa-plus fa-2x"}),r.a.createElement("span",{className:"d-block"},"JOIN NETWORK")),!n.props.joineable&&r.a.createElement("button",{className:"btn btn-join-network text-center ml-auto text-white h-100 py-4",onClick:function(){return n.props.openLeaveNetworkModal(n.props.address)}},r.a.createElement("i",{className:"fal fa-minus fa-2x"}),r.a.createElement("span",{className:"d-block"},"LEAVE NETWORK")))))},n}return Object(P.a)(t,e),t}(a.Component),$t=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).openLeaveModal=function(e){n.setState({selectedToken:e,leaveNetworkOpened:!0})},n.closeLeaveModal=function(){n.setState({selectedToken:"",leaveNetworkOpened:!1})},n.onLeaveConfirm=function(){n.props.incrementTaskPending(Se("leaveNetwork",{token:n.state.selectedToken,funds:n.state.fundsInput})),n.props.leaveNetworkHandler(n.state.selectedToken),n.closeLeaveModal()},n.openJoinModal=function(e){n.setState({selectedToken:e,joinNetworkOpened:!0})},n.closeJoinModal=function(){n.setState({selectedToken:"",joinNetworkOpened:!1})},n.onJoinConfirm=function(){n.props.incrementTaskPending(Se("joinNetwork",{token:n.state.selectedToken,funds:n.state.fundsInput})),n.props.joinNetworkHandler(n.state.selectedToken,n.state.fundsInput),n.closeJoinModal()},n.handleChangeFunds=function(e){n.setState({fundsInput:e.value})},n.render=function(){var e=n.props.tokenList.map(function(e){return r.a.createElement(Xt,{name:e.name,key:e.address,symbol:e.symbol,balance:e.balance/Math.pow(10,e.decimals),address:e.address,joineable:e.joineable,openLeaveNetworkModal:n.openLeaveModal,openJoinNetworkModal:n.openJoinModal})});return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-unstyled row token-list"},e),r.a.createElement(dt.a,{show:n.state.leaveNetworkOpened,onHide:n.closeLeaveModal,centered:!0},r.a.createElement(dt.a.Header,{closeButton:!0},r.a.createElement(dt.a.Title,null,"Leave Network")),r.a.createElement(dt.a.Body,null,r.a.createElement("p",null,"Are you sure you want to leave this network?"," ",r.a.createElement("b",null,n.state.selectedToken))),r.a.createElement(dt.a.Footer,null,r.a.createElement(mt.a,{className:"btn-close border-0 btn-block py-3",variant:"primary",onClick:Object(se.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.onLeaveConfirm();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},"LEAVE"))),r.a.createElement(dt.a,{show:n.state.joinNetworkOpened,onHide:n.closeJoinModal,centered:!0},r.a.createElement(dt.a.Header,{closeButton:!0},r.a.createElement(dt.a.Title,null,"Join Token Network")),r.a.createElement(dt.a.Body,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(ft.a,{value:n.state.fundsInput,className:"form-control shadow-none",placeholder:"Funds",onValueChange:function(e){return n.handleChangeFunds(e)}}))),r.a.createElement(dt.a.Footer,null,r.a.createElement(mt.a,{className:"btn-pay border-0 btn-block py-3",variant:"primary",onClick:function(){return n.onJoinConfirm()}},"JOIN"))))},n.state={joinNetworkOpened:!1,leaveNetworkOpened:!1,selectedToken:"",fundsInput:""},n}return Object(P.a)(t,e),t}(a.Component),en=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"input-group m-0"},r.a.createElement("input",{type:"text",className:"form-control text-white rounded-0 bg-transparent",id:"inlineFormInputGroup",placeholder:"Token name",onChange:n.props.onFilterChange}),r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{className:"input-group-text bg-transparent text-green btn-filter-search"},r.a.createElement("i",{className:"fal fa-search"}))))),r.a.createElement("div",{className:"col-auto ml-auto"},r.a.createElement("select",{className:"custom-select bg-transparent",onChange:n.props.onSortByChange},r.a.createElement("option",{defaultValue:!0,value:qe},"Sort by"),r.a.createElement("option",{value:Ze},"Name"),r.a.createElement("option",{value:Ue},"Symbol"),r.a.createElement("option",{value:Ye},"Balance"))))},n}return Object(P.a)(t,e),t}(a.Component),tn=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).handleFilterNameChange=function(e){return n.setState({filterName:e.target.value})},n.handleSortByChange=function(e){return n.setState({sortBy:e.target.value})},n.applyFiltersAndSorting=function(){var e=n.filterTokens();return We[n.state.sortBy]===String?Ct(e,n.state.sortBy,We[n.state.sortBy],ze):Ct(e,n.state.sortBy,We[n.state.sortBy],Qe)},n.filterTokens=function(){return n.props.tokens&&n.props.tokens.length>0&&n.state.filterName?yt(n.props.tokens,["name","symbol"],n.state.filterName):n.props.tokens},n.render=function(){return r.a.createElement(Be,{render:n.renderPolling,pollAction:n.props.pollTokens,dueTim:0,periodOfScheduler:15e3})},n.renderPolling=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"py-2 px-5 filters-bar"},r.a.createElement(en,{onFilterChange:n.handleFilterNameChange,onSortByChange:n.handleSortByChange})),r.a.createElement("div",{className:"container-fluid px-5 py-4 py-lg-0"},r.a.createElement($t,{tokenList:n.applyFiltersAndSorting(),leaveNetworkHandler:n.props.leaveNetwork,joinNetworkHandler:n.props.joinNetwork,incrementTaskPending:n.props.incrementTaskPending})))},n.state={filterName:void 0,sortBy:Ze},n}return Object(P.a)(t,e),t}(a.Component),nn=Object(I.a)(function(e){return{tokens:e.tokenReducer.tokens}},function(e){var t={pollTokens:jt,leaveNetwork:St,joinNetwork:Nt,incrementTaskPending:xt};return Object(l.bindActionCreators)(t,e)})(tn),an=function(){return function(e,t){return new Promise(function(t,n){return $.get("/api/v1/dashboardLumino").then(function(){var n=Object(se.a)(re.a.mark(function n(a){var r;return re.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pe(a.data.data_token);case 2:return r=n.sent,n.abrupt("return",t(e(rn(a.data,r))));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()).catch(function(e){console.log(JSON.stringify(e))})})}},rn=function(e,t){return{type:"DASHBOAR_DATA_SUCCEED",data:{allData:e,tokens:t}}},sn=(n(387),n(191)),on=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(sn.a,{data:n.props.data,columns:n.props.columns,defaultPageSize:n.props.defaultPageSize,showPagination:n.props.showPagination,sortable:n.props.sortable})},n}return Object(P.a)(t,e),t}(a.Component),ln=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("li",{className:"text-white px-4"},r.a.createElement("span",{className:"w-600 d-block"},n.props.name),r.a.createElement("span",{className:"w-600 d-block"},n.props.balance,r.a.createElement("small",{className:"ml-1 op-3"},n.props.fiat)))},n}return Object(P.a)(t,e),t}(a.Component),cn=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=n.props.tokenList.map(function(e){var t=ne(e.balance,e.decimals);return r.a.createElement(ln,{name:e.name,key:e.name,balance:t,fiat:e.fiat})});return r.a.createElement("ul",{className:"list-unstyled justify-content-center align-items-center token-list-container m-0 d-flex"},r.a.createElement("li",{className:"mr-auto"},r.a.createElement("button",{type:"button",className:"btn btn-link text-green"},r.a.createElement("i",{className:"fal fa-arrow-left fa-lg"}))),e,r.a.createElement("li",{className:"ml-auto border-0"},r.a.createElement("button",{type:"button",className:"btn btn-link text-green"},r.a.createElement("i",{className:"fal fa-arrow-right fa-lg"}))))},n}return Object(P.a)(t,e),t}(a.Component),un=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){var e=0,t=0,a=0,s=0;if(n.props.paymentInfo)for(var o=n.props.paymentInfo,l=0;l<o.length;l++)switch(o[l].event_type_code){case 1:t=o[l].quantity;break;case 2:s=o[l].quantity;break;case 3:e=o[l].quantity;break;case 4:a=o[l].quantity;break;default:console.log("More payments event types than expected")}return r.a.createElement("ul",{className:"text-center list-unstyled last-movements mb-0 text-white px-3 pt-3 pb-2 rounded-left bg-secondary"},r.a.createElement("li",{className:"mb-2 last-movements__received border-bottom"},r.a.createElement("i",{className:"fal fa-long-arrow-left fa-lg"}),r.a.createElement("p",{className:"m-0"},"Payment ",r.a.createElement("br",null),"Received:",r.a.createElement("span",{className:"d-block"},t))),r.a.createElement("li",{className:"mb-2 last-movements__sent border-bottom"},r.a.createElement("i",{className:"fal fa-long-arrow-right fa-lg"}),r.a.createElement("p",{className:"m-0"},"Payment ",r.a.createElement("br",null),"Sent:",r.a.createElement("span",{className:"d-block"},e))),r.a.createElement("li",{className:"mb-2 last-movements__pending border-bottom"},r.a.createElement("i",{className:"fal fa-stopwatch fa-lg"}),r.a.createElement("p",{className:"m-0"},"Payment ",r.a.createElement("br",null),"Pending:",r.a.createElement("span",{className:"d-block"},a))),r.a.createElement("li",{className:"last-movements__failed"},r.a.createElement("i",{className:"fal fa-exclamation-triangle fa-lg"}),r.a.createElement("p",{className:"m-0"},"Payment ",r.a.createElement("br",null),"Failed:",r.a.createElement("span",{className:"d-block"},s))))},n}return Object(P.a)(t,e),t}(a.Component),dn=n(63),pn=n(189),mn=[{Header:"ID",accessor:"identifier"},{Header:"Date",accessor:"log_time",Cell:function(e){return r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-calendar-day text-blue mr-1"}),Object(pn.format)(e.value,"MM-DD-YYYY HH:mm"))}},{Header:"Amount ",accessor:"amount",Cell:function(e){if(void 0===e.value)return r.a.createElement("span",{className:"text-center d-block"},e.value);var t=new ee.BigNumber(e.value).dividedBy(Math.pow(10,18)).toString(10);return r.a.createElement("span",{className:"text-center d-block"},t)}},{Header:"From ",accessor:"initiator",Cell:function(e){return""===e.value?de:e.value}},{Header:"To",accessor:"target",Cell:function(e){return""===e.value?de:e.value}}],hn=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(Be,{render:n.renderPolling,pollAction:n.pollDashboardContent,dueTim:0,periodOfScheduler:2e3})},n.pollDashboardContent=function(){n.props.pollDashboard()},n.renderPolling=function(){var e=null,t=null;return n.props.dashboardData.data_table&&(e=r.a.createElement(on,{data:n.props.dashboardData.data_table.payments_received,columns:mn,defaultPageSize:5,showPagination:!1,sortable:!1}),t=r.a.createElement(on,{data:n.props.dashboardData.data_table.payments_sent,columns:mn,defaultPageSize:5,showPagination:!1,sortable:!1})),r.a.createElement("div",null,r.a.createElement("div",{className:"py-2 px-4 filters-bar"},r.a.createElement(cn,{tokenList:n.props.tokens})),r.a.createElement("div",{className:"container-fluid mt-5"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-8 mx-auto"},r.a.createElement(dn.e,{width:"100%",height:400},r.a.createElement(dn.b,{data:n.props.dashboardData.data_graph},r.a.createElement(dn.c,{strokeDasharray:"3 3"}),r.a.createElement(dn.g,{dataKey:"month_of_year_label"}),r.a.createElement(dn.h,null),r.a.createElement(dn.f,null),r.a.createElement(dn.d,null),r.a.createElement(dn.a,{dataKey:"Payment Received",fill:"#14D944"}),r.a.createElement(dn.a,{dataKey:"Payment Sent Success",fill:"#149DD9"})))),r.a.createElement("div",{className:"col-auto ml-auto pr-0"},r.a.createElement(un,{paymentInfo:n.props.dashboardData.data_general_payments})))),r.a.createElement("div",{className:"row no-gutters mt-5"},r.a.createElement("div",{className:"col-lg mb-3 mb-lg-0"},r.a.createElement("h3",{className:"bg-white text-center h4 m-0 py-3"},"Payments Received"),e),r.a.createElement("div",{className:"col-lg"},r.a.createElement("h3",{className:"bg-white text-center h4 m-0 py-3"},"Payments Sent"),t)))},n}return Object(P.a)(t,e),t}(a.Component),fn=Object(I.a)(function(e){return{dashboardData:e.dashboardReducer.dashboardData,tokens:e.dashboardReducer.tokens}},function(e){var t={pollDashboard:an};return Object(l.bindActionCreators)(t,e)})(hn),bn=function(e){function t(e,n){var a;return Object(T.a)(this,t),(a=Object(x.a)(this,Object(A.a)(t).call(this,e,n))).handleOpenChannel=function(){a.props.putChannel(a.state.inputAddress,a.state.inputToken,a.state.inputAmount,a.state.inputSettleTimeOut),a.handleClose()},a.render=function(){return r.a.createElement("div",{className:"container-fluid p-5"},r.a.createElement("div",{className:"row align-items-end"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Partner Address"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg shadow-none",readOnly:!0,id:"","aria-describedby":"",placeholder:"Amount:",value:a.props.suggestion.value}))),r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"form-group custom-suggestion-container"},r.a.createElement("label",{htmlFor:""},"Token Address"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg shadow-none",id:"","aria-describedby":"",placeholder:"",value:a.state.inputToken,onChange:a.handleChangeToken}))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:""},"Amount"),r.a.createElement("input",{type:"text",className:"form-control form-control-lg shadow-none",id:"","aria-describedby":"",placeholder:"",value:a.state.inputAmount,onChange:a.handleChangeAmount}))),r.a.createElement("div",{className:"col-auto"},r.a.createElement("div",{className:"form-group"},r.a.createElement(mt.a,{className:"btn-pay border-0 btn-block btn-lg",variant:"primary",onClick:a.handleOpenChannel},"Create Channel"," ",r.a.createElement("i",{className:"fal fa-chart-network fa-lg ml-2 pl-2 border-left align-middle"}))))))},a.state={inputToken:"",inputAmount:"",inputSettleTimeOut:500,tokensSuggestions:[]},a.handleChangeToken=a.handleChangeToken.bind(Object(ot.a)(a)),a.handleChangeAmount=a.handleChangeAmount.bind(Object(ot.a)(a)),a}return Object(P.a)(t,e),Object(F.a)(t,[{key:"handleChangeToken",value:function(e){this.setState({inputToken:e.target.value})}},{key:"handleChangeAmount",value:function(e){this.setState({inputAmount:e.target.value})}}]),t}(a.Component),gn=Object(I.a)(function(e){return{suggestion:e.searchReducer.suggestion}})(bn),vn=n(124),yn=(n(1072),[{Header:"ID",accessor:"identifier"},{Header:"Date",accessor:"log_time",Cell:function(e){return r.a.createElement("span",null,r.a.createElement("i",{className:"fal fa-calendar-day text-blue mr-1"})," ",Object(pn.format)(e.value,"MM-DD-YYYY HH:mm"))}},{Header:"Amount ",accessor:"amount",Cell:function(e){if(void 0===e.value)return r.a.createElement("span",{className:"text-center d-block"},e.value);var t=new ee.BigNumber(e.value).dividedBy(Math.pow(10,18)).toString(10);return r.a.createElement("span",{className:"text-center d-block"},t)}},{Header:"From ",accessor:"initiator",Cell:function(e){return e.value?e.value:de}},{Header:"To",accessor:"target",Cell:function(e){return e.value?e.value:de}},{Header:"Type",accessor:"event",Cell:function(e){return r.a.createElement("span",{className:"text-center d-block"},function(e){switch(e){case"EventPaymentReceivedSuccess":return"Received";case"EventPaymentSentSuccess":return"Sent";case"EventPaymentSentFailed":return"Failed";default:return""}}(e.value))}}]),En=function(e){function t(e){var n;Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).render=function(){return r.a.createElement("div",null,r.a.createElement(Be,{render:n.renderPolling,pollAction:n.getData,dueTim:0,periodOfScheduler:2e3}),r.a.createElement(Be,{render:function(){return null},pollAction:n.props.pollTokens,dueTim:0,periodOfScheduler:3e4}))},n.getData=function(){n.props.getPayments(n.state.filterInitiator,n.state.filterTarget,n.state.filterFromDate,n.state.filterToDate,n.state.filterStatus)},n.renderPolling=function(){var e=null;return n.props.payments&&(e=r.a.createElement(on,{data:n.props.payments,columns:yn,defaultPageSize:10})),r.a.createElement("div",null,r.a.createElement("div",{className:"py-2 px-5 filters-bar row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control text-white rounded-0 bg-transparent",placeholder:"From",onChange:n.onInitiatorChange})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control text-white rounded-0 bg-transparent",placeholder:"To",onChange:n.onTargetChange})),r.a.createElement("div",{className:"col-2"},r.a.createElement(vn.DatePicker,{onChange:n.onFromDateChange.bind(Object(ot.a)(n)),dateFormat:"YYYY/MM/DD",initialDate:n.state.filterFromDate,selected:n.state.filterFromDate})),r.a.createElement("div",{className:"col-2"},r.a.createElement(vn.DatePicker,{onChange:n.onToDateChange.bind(Object(ot.a)(n)),dateFormat:"YYYY/MM/DD",selected:n.state.filterToDate})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("select",{className:"custom-select bg-transparent",onChange:n.onStatusChange},r.a.createElement("option",{value:He,defaultValue:!0},"All "),r.a.createElement("option",{value:"1"},"Received"),r.a.createElement("option",{value:"2"},"Failed"),r.a.createElement("option",{value:"3"},"Sent"))),r.a.createElement("div",{className:"col-auto ml-auto"},r.a.createElement("button",{className:"btn btn-green",onClick:Object(se.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.applyFilters();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},"Apply ",r.a.createElement("i",{className:"fal fa-sliders-v ml-3"})))),r.a.createElement("div",{className:"row no-gutters mt-5"},r.a.createElement("div",{className:"col px-5"},e)))},n.onInitiatorChange=function(e){n.setState({filterInitiator:e.target.value})},n.onTargetChange=function(e){n.setState({filterTarget:e.target.value})},n.onStatusChange=function(e){n.setState({filterStatus:e.target.value})},n.applyFilters=Object(se.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.getPayments(n.state.filterInitiator,n.state.filterTarget,n.state.filterFromDate,n.state.filterToDate,n.state.filterStatus);case 2:case"end":return e.stop()}},e)}));var a=new Date,s=(new Date).setMonth(a.getMonth()-1),o=new Date(s);return n.state={filterInitiator:void 0,filterTarget:void 0,filterFromDate:o,filterToDate:new Date,filterStatus:void 0},n}return Object(P.a)(t,e),Object(F.a)(t,[{key:"onFromDateChange",value:function(e){this.setState({filterFromDate:new Date(e)})}},{key:"onToDateChange",value:function(e){this.setState({filterToDate:new Date(e)})}}]),t}(a.Component),Cn=Object(I.a)(function(e){return{payments:e.paymentReducer.payments}},function(e){var t={getPayments:Xe,pollTokens:jt};return Object(l.bindActionCreators)(t,e)})(En);function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Sn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var wn=r.a.createElement("title",null,"logo"),Nn=r.a.createElement("desc",null,"Created with Sketch."),On=r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Desktop-HD",transform:"translate(-15.000000, -22.000000)",fillRule:"nonzero"},r.a.createElement("g",{id:"Header"},r.a.createElement("g",{id:"logo",transform:"translate(15.000000, 22.000000)"},r.a.createElement("path",{d:"M10.8445298,15.7965451 L21.1132438,15.7965451 C21.1708253,15.7965451 21.2284069,15.7389635 21.2284069,15.681382 L21.2284069,12.3608445 C21.2284069,12.303263 21.1708253,12.2456814 21.1132438,12.2456814 L10.8445298,12.2456814 C10.7869482,12.2456814 10.7293666,12.303263 10.7293666,12.3608445 L10.7293666,15.681382 C10.7293666,15.7581574 10.7869482,15.7965451 10.8445298,15.7965451 Z M17.7927063,9.71209213 L21.1132438,9.71209213 C21.1708253,9.71209213 21.2284069,9.65451056 21.2284069,9.59692898 L21.2284069,6.27639155 C21.2284069,6.21880998 21.1708253,6.16122841 21.1132438,6.16122841 L17.7927063,6.16122841 C17.7351248,6.16122841 17.6775432,6.21880998 17.6775432,6.27639155 L17.6775432,9.59692898 C17.6775432,9.65451056 17.7351248,9.71209213 17.7927063,9.71209213 L17.7927063,9.71209213 Z M3.58925144,24.4337812 L0.268714012,24.4337812 C0.211132438,24.4337812 0.153550864,24.4913628 0.153550864,24.5489443 L0.153550864,27.8694818 C0.153550864,27.9270633 0.211132438,27.9846449 0.268714012,27.9846449 L3.58925144,27.9846449 C3.64683301,27.9846449 3.70441459,27.9270633 3.70441459,27.8694818 L3.70441459,24.5489443 C3.70441459,24.4913628 3.64683301,24.4337812 3.58925144,24.4337812 L3.58925144,24.4337812 Z M15.7773512,24.4337812 L12.4568138,24.4337812 C12.3992322,24.4337812 12.3416507,24.4913628 12.3416507,24.5489443 L12.3416507,34.8176583 C12.3416507,34.8752399 12.3992322,34.9328215 12.4568138,34.9328215 L15.7773512,34.9328215 C15.8349328,34.9328215 15.8925144,34.8752399 15.8925144,34.8176583 L15.8925144,24.5489443 C15.8925144,24.4913628 15.8349328,24.4337812 15.7773512,24.4337812 L15.7773512,24.4337812 Z M36.084453,21.1132438 L39.4049904,21.1132438 C39.462572,21.1132438 39.5201536,21.0556622 39.5201536,20.9980806 L39.5201536,17.6775432 C39.5201536,17.6199616 39.462572,17.56238 39.4049904,17.56238 L36.084453,17.56238 C36.0268714,17.56238 35.9692898,17.6199616 35.9692898,17.6775432 L35.9692898,20.9980806 C35.9692898,21.074856 36.0076775,21.1132438 36.084453,21.1132438 Z M29.9808061,21.1132438 L33.3013436,21.1132438 C33.3589251,21.1132438 33.4165067,21.0556622 33.4165067,20.9980806 L33.4165067,10.7293666 C33.4165067,10.671785 33.3589251,10.6142035 33.3013436,10.6142035 L29.9808061,10.6142035 C29.9232246,10.6142035 29.865643,10.671785 29.865643,10.7293666 L29.865643,20.9980806 C29.865643,21.074856 29.9232246,21.1132438 29.9808061,21.1132438 Z M17.7927063,3.6084453 L21.1132438,3.6084453 C21.1708253,3.6084453 21.2284069,3.55086372 21.2284069,3.49328215 L21.2284069,0.172744722 C21.2284069,0.115163148 21.1708253,0.0575815739 21.1132438,0.0575815739 L17.7927063,0.0575815739 C17.7351248,0.0575815739 17.6775432,0.115163148 17.6775432,0.172744722 L17.6775432,3.49328215 C17.6775432,3.57005758 17.7351248,3.6084453 17.7927063,3.6084453 Z M9.69289827,24.4337812 L6.37236084,24.4337812 C6.31477927,24.4337812 6.2571977,24.4913628 6.2571977,24.5489443 L6.2571977,27.8694818 C6.2571977,27.9270633 6.31477927,27.9846449 6.37236084,27.9846449 L9.69289827,27.9846449 C9.75047985,27.9846449 9.80806142,27.9270633 9.80806142,27.8694818 L9.80806142,24.5489443 C9.78886756,24.4913628 9.75047985,24.4337812 9.69289827,24.4337812 Z M34.9328215,29.7696737 L24.6641075,29.7696737 C24.6065259,29.7696737 24.5489443,29.8272553 24.5489443,29.8848369 L24.5489443,33.2053743 C24.5489443,33.2629559 24.6065259,33.3205374 24.6641075,33.3205374 L34.9328215,33.3205374 C34.9904031,33.3205374 35.0479846,33.2629559 35.0479846,33.2053743 L35.0479846,29.8848369 C35.0287908,29.8080614 34.9904031,29.7696737 34.9328215,29.7696737 Z M41.9385797,23.7236084 L27.3896353,23.7236084 C27.3320537,23.7236084 27.2744722,23.78119 27.2744722,23.8387716 L27.2744722,27.0633397 C27.2744722,27.1209213 27.3320537,27.1785029 27.3896353,27.1785029 L41.9385797,27.1785029 C41.9961612,27.1785029 42.0537428,27.1209213 42.0537428,27.0633397 L42.0537428,23.8387716 C42.0537428,23.7619962 41.9961612,23.7236084 41.9385797,23.7236084 Z M27.9654511,35.8541267 L24.6449136,35.8541267 C24.5873321,35.8541267 24.5297505,35.9117083 24.5297505,35.9692898 L24.5297505,39.2898273 C24.5297505,39.3474088 24.5873321,39.4049904 24.6449136,39.4049904 L27.9654511,39.4049904 C28.0230326,39.4049904 28.0806142,39.3474088 28.0806142,39.2898273 L28.0806142,35.9692898 C28.0806142,35.9117083 28.0422265,35.8541267 27.9654511,35.8541267 Z M18.4836852,18.5028791 C18.4836852,18.4452975 18.4261036,18.3877159 18.3685221,18.3877159 L3.81957774,18.3877159 C3.76199616,18.3877159 3.70441459,18.4452975 3.70441459,18.5028791 L3.70441459,21.7274472 C3.70441459,21.7850288 3.76199616,21.8426104 3.81957774,21.8426104 L18.3685221,21.8426104 C18.4261036,21.8426104 18.4836852,21.7850288 18.4836852,21.7274472 L18.4836852,18.5028791 Z M45.4894434,17.5815739 L42.168906,17.5815739 C42.1113244,17.5815739 42.0537428,17.6391555 42.0537428,17.696737 L42.0537428,21.0172745 C42.0537428,21.074856 42.1113244,21.1324376 42.168906,21.1324376 L45.4894434,21.1324376 C45.547025,21.1324376 45.6046065,21.074856 45.6046065,21.0172745 L45.6046065,17.696737 C45.6046065,17.6199616 45.5662188,17.5815739 45.4894434,17.5815739 Z M21.8234165,27.1785029 L18.5988484,27.1785029 C18.5412668,27.1785029 18.4836852,27.2360845 18.4836852,27.293666 L18.4836852,41.8426104 C18.4836852,41.9001919 18.5412668,41.9577735 18.5988484,41.9577735 L21.8234165,41.9577735 C21.8809981,41.9577735 21.9385797,41.9001919 21.9385797,41.8426104 L21.9385797,27.293666 C21.9385797,27.2360845 21.8809981,27.1785029 21.8234165,27.1785029 Z M27.2744722,18.2917466 L27.2744722,3.72360845 C27.2744722,3.66602687 27.2168906,3.6084453 27.159309,3.6084453 L23.9347409,3.6084453 C23.8771593,3.6084453 23.8195777,3.66602687 23.8195777,3.72360845 L23.8195777,18.2917466 C23.8195777,18.3493282 23.8771593,18.4069098 23.9347409,18.4069098 L27.159309,18.4069098 C27.2168906,18.4069098 27.2744722,18.3493282 27.2744722,18.2917466 Z M27.9654511,41.9577735 L24.6449136,41.9577735 C24.5873321,41.9577735 24.5297505,42.0153551 24.5297505,42.0729367 L24.5297505,45.3934741 C24.5297505,45.4510557 24.5873321,45.5086372 24.6449136,45.5086372 L27.9654511,45.5086372 C28.0230326,45.5086372 28.0806142,45.4510557 28.0806142,45.3934741 L28.0806142,42.0729367 C28.0806142,41.9961612 28.0422265,41.9577735 27.9654511,41.9577735 Z",id:"Shape",fill:"#149DD9"}),r.a.createElement("path",{d:"M66.5834933,17.56238 L61.4779271,17.56238 C55.9692898,17.56238 52.8023033,21.4779271 52.8023033,26.9289827 L52.7639155,45.2207294 C52.7639155,45.3742802 52.8982726,45.5086372 53.0518234,45.5086372 L59.4241843,45.5086372 C59.5777351,45.5086372 59.7120921,45.3742802 59.7120921,45.2207294 L59.5009597,27.1209213 C59.5009597,24.8752399 60.7485605,23.646833 63.0326296,23.646833 L66.5834933,23.646833 C66.7370441,23.646833 66.8714012,23.512476 66.8714012,23.3589251 L66.8714012,17.8502879 C66.8714012,17.696737 66.7370441,17.56238 66.5834933,17.56238 L66.5834933,17.56238 Z M79.1746641,17.7351248 L72.8023033,17.7351248 C72.6487524,17.7351248 72.5143954,17.8694818 72.5143954,18.0230326 L72.5143954,45.2207294 C72.5143954,45.3742802 72.6487524,45.5086372 72.8023033,45.5086372 L79.1746641,45.5086372 C79.328215,45.5086372 79.462572,45.3742802 79.462572,45.2207294 L79.462572,18.0038388 C79.462572,17.8502879 79.3474088,17.7351248 79.1746641,17.7351248 Z M79.3474088,6.0268714 L72.6295585,6.0268714 C72.571977,6.0268714 72.5143954,6.08445298 72.5143954,6.14203455 L72.5143954,12.8598848 C72.5143954,12.9174664 72.571977,12.975048 72.6295585,12.975048 L79.3474088,12.975048 C79.4049904,12.975048 79.462572,12.9174664 79.462572,12.8598848 L79.462572,6.14203455 C79.462572,6.06525912 79.4241843,6.0268714 79.3474088,6.0268714 Z M99.9616123,18.3877159 C99.9616123,18.2341651 99.8272553,18.0998081 99.6737044,18.0998081 L92.571977,18.0998081 L92.571977,15.3166987 C92.571977,13.0710173 93.8195777,11.8426104 96.1036468,11.8426104 L99.6161228,11.8426104 C99.7696737,11.8426104 99.9040307,11.7082534 99.9040307,11.5547025 L99.9040307,6.04606526 C99.9040307,5.8925144 99.7696737,5.75815739 99.6161228,5.75815739 L94.5489443,5.75815739 C89.0403071,5.75815739 85.8733205,9.67370441 85.8733205,15.1247601 L85.8349328,45.2207294 C85.8349328,45.3742802 85.9692898,45.5086372 86.1228407,45.5086372 L92.4952015,45.5086372 C92.6487524,45.5086372 92.7831094,45.3742802 92.7831094,45.2207294 L92.7831094,24.0690979 L99.6737044,24.0690979 C99.8272553,24.0690979 99.9616123,23.9347409 99.9616123,23.78119 L99.9616123,18.3877159 L99.9616123,18.3877159 Z",id:"Shape",fill:"#333132"}))))),jn=function(e){var t=e.svgRef,n=Sn(e,["svgRef"]);return r.a.createElement("svg",kn({width:"100px",height:"46px",viewBox:"0 0 100 46",ref:t},n),wn,Nn,On)},Ln=r.a.forwardRef(function(e,t){return r.a.createElement(jn,kn({svgRef:t},e))}),Tn=(n.p,n(1073)),xn=n(146),An=JSON.stringify([{inputs:[{name:"rnsAddr",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"kind",type:"bytes32"}],name:"has",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addrValue",type:"address"}],name:"setAddr",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]),Pn=function e(){Object(T.a)(this,e)};Pn.getRnsResolver=function(){var e=new xn.providers.HttpProvider(oe);return new Tn(e,"0x4efd25e3d348f8f25a14fb7655fba6f72edfe93a",An)},Pn.getRnsDomainValue=function(){return window.rnsDomain};var _n=[{Header:"Type",accessor:"typeLabel"},{Header:"Detail",accessor:"detail"}],Dn=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(sn.a,{data:n.props.data,columns:n.props.columns,defaultPageSize:n.props.defaultPageSize,showPagination:n.props.showPagination,sortable:n.props.sortable})},n}return Object(P.a)(t,e),t}(a.Component),Rn=function(e){function t(e,n){var a;return Object(T.a)(this,t),(a=Object(x.a)(this,Object(A.a)(t).call(this,e,n))).handleClose=function(){a.setState({show:!1})},a.handleShow=function(){a.setState({show:!0})},a.handleClosePendingTasks=function(){a.setState({showPendingTasks:!1})},a.handleShowPendingTasks=function(){a.setState({showPendingTasks:!0})},a.render=function(){var e=null;a.props.tasks&&(e=r.a.createElement(Dn,{data:a.props.tasks,columns:_n,defaultPageSize:5,showPagination:!1,sortable:!1}));var t=Pn.getRnsDomainValue();return r.a.createElement("header",{className:"shadow-sm position-fixed w-100"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-white p-0"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#side-bar","aria-controls":"side-bar","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("a",{className:"navbar-brand mx-auto ml-lg-3 mr-lg-0 py-2 py-lg-0",href:"/"},r.a.createElement(Ln,null)),r.a.createElement("ul",{className:"navbar-nav ml-lg-4 pl-lg-4 border-left nav-address-container"},r.a.createElement("li",{className:"address-header"},r.a.createElement("span",{className:"name text-green w-600"},t,t&&r.a.createElement(Wt.a,{"data-clipboard-text":t,className:"btn btn-copy-address text-green m-1"}," ",r.a.createElement("i",{className:"fal fa-copy align-middle"}))),r.a.createElement("small",{className:"ml-3 ml-lg-0 address d-lg-block"},a.state.nodeAddress,r.a.createElement(Wt.a,{"data-clipboard-text":a.state.nodeAddress,className:"btn btn-copy-address text-green m-1"},r.a.createElement("i",{className:"fal fa-copy align-middle"}))))),r.a.createElement("ul",{className:"navbar-nav mx-auto ml-lg-auto mr-lg-0 flex-row align-items-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(Jt,{placeholder:"Search...",selectedSuggestion:a.props.selectedSuggestion,redirect:!0,suggestions:a.props.suggestions,value:a.props.value,isLoading:a.props.isLoading,noSuggestions:a.props.noSuggestions,onSuggestionsClearRequested:a.props.onSuggestionsClearRequested,onSuggestionsFetchRequested:a.props.onSuggestionsFetchRequested,onChange:a.props.onChange,loadSuggestionsBegin:a.props.loadSuggestionsBegin})),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",name:"button",className:"nav-link btn-search px-3"},r.a.createElement("i",{className:"fal fa-search"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",name:"button",className:"nav-link border-0 bg-transparent px-3 text-green",onClick:a.handleShow},r.a.createElement("i",{className:"fal fa-money-bill"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{type:"button",name:"button",className:"nav-link border-0 bg-transparent px-3 text-blue position-relative btn-bell",onClick:a.handleShowPendingTasks},r.a.createElement("i",{className:"fal fa-bell"})," ",r.a.createElement("span",{className:"badge badge-dark position-absolute"}," ",a.props.tasksCount," "))))),r.a.createElement(Bt.a,{show:a.state.showPendingTasks,onHide:a.handleClosePendingTasks,centered:!0},r.a.createElement(Bt.a.Header,{closeButton:!0},r.a.createElement(Bt.a.Title,null,"Pending Tasks")),r.a.createElement(Bt.a.Body,null,e),r.a.createElement(Bt.a.Footer,null)),r.a.createElement(Gt,{show:a.state.show,handleClose:a.handleClose}))},a.state={nodeAddress:void 0,show:!1,showPendingTasks:!1},a}return Object(P.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=Object(se.a)(re.a.mark(function e(){var t,n,a;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",!Pn.getRnsDomainValue()){e.next=17;break}return e.prev=2,n=Pn.getRnsResolver(),e.next=6,n.addr(Pn.getRnsDomainValue());case 6:"0x0000000000000000000000000000000000000000"===(t=e.sent)&&(t=de,a={title:"RNS error",body:"Domain name "+Pn.getRnsDomainValue()+" is not registered in RNS"},je(a)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),t=de,je({title:"RNS error",body:"There is no RNS public resolver available"});case 15:e.next=18;break;case 17:t=de;case 18:this.setState({nodeAddress:t});case 19:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()}]),t}(a.Component),Mn=Object(I.a)(function(e){return{channels:e.channelReducer.channels,channelsChanged:e.channelReducer.channelsChanged,searchResults:e.searchReducer.results,value:e.searchReducer.value,suggestions:e.searchReducer.suggestions,isLoading:e.searchReducer.isLoading,noSuggestions:e.searchReducer.noSuggestions,tasksCount:e.taskStatusReducer.count,tasks:e.taskStatusReducer.tasks}},function(e){var t={onChange:_t,onSuggestionsFetchRequested:Pt,onSuggestionsClearRequested:Dt,loadSuggestionsBegin:Rt,selectedSuggestion:It};return Object(l.bindActionCreators)(t,e)})(Rn),Fn=function(e,t){return new Promise(function(n,a){return $.get("/api/v1/channels/"+e+"/"+t).then(function(e){return n(e.data)}).catch(function(e){return console.log(JSON.stringify(e)),a(null)})})},In=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).onStatusChange=function(e){n.setState({filterStatus:e.target.value})},n.applyFilters=Object(se.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getData();case 2:case"end":return e.stop()}},e)})),n.resolveRender=function(){return Object(d.a)({},n.props).selectedSuggestion?r.a.createElement(Be,{render:n.renderPolling,pollAction:n.getData,dueTim:0,periodOfScheduler:2e3}):r.a.createElement("h5",{className:"m-5 text-center"},'Click on "View Details" on a channel to visualize the data')},n.render=function(){return n.resolveRender()},n.getData=function(){n.props.getPayments(n.state.filterInitiator,n.state.filterTarget,n.state.filterFromDate,n.state.filterToDate,n.state.filterStatus,n.props.selectedSuggestion.networkId)},n.renderPolling=function(){var e=null;n.props.payments&&n.state.loading&&(e=r.a.createElement(on,{data:n.props.payments,columns:yn,defaultPageSize:5}));var t=ne(n.state.myBalance,he(n.props.selectedSuggestion.tokenAddress,n.props.tokens));return r.a.createElement("div",{className:"container-fluid py-5 px-0 my-5"},r.a.createElement("div",{className:"row mb-5 no-gutters"},r.a.createElement("div",{className:"col-10 mx-auto"},r.a.createElement("hr",{className:"position-absolute channel-line"}),r.a.createElement("div",{className:"row no-gutters align-items-center"},r.a.createElement("div",{className:"col-auto text-center"},r.a.createElement("div",{className:"channel-circle-item d-inline-block shadow-sm position-relative text-center"},r.a.createElement("i",{className:"fal fa-2x align-middle fa-fw fa-address-card text-white"}),r.a.createElement("div",{className:"channel-balance-item bg-white position-absolute rounded px-2 py-1 shadow-sm"},t)),r.a.createElement("p",{className:"text-green"},de)),r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"text-blue text-center pb-5 mb-4"},r.a.createElement("i",{className:"fal fa-coins fa-lg mr-2"}),n.props.selectedSuggestion.tokenName," -"," ",n.props.selectedSuggestion.tokenAddress)),r.a.createElement("div",{className:"col-auto text-center"},r.a.createElement("div",{className:"channel-circle-item d-inline-block shadow-sm position-relative"},r.a.createElement("i",{className:"fal fa-2x align-middle fa-fw fa-address-card text-white"})),r.a.createElement("p",{className:"text-green"},n.props.selectedSuggestion.partnerAddress))))),r.a.createElement("div",{className:"row no-gutters justify-content-center mt-5"},r.a.createElement("div",{className:"col-lg-10"},r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"bg-white text-center h4 m-0 py-3"},"Channel Payments"),r.a.createElement("div",{className:"py-2 px-5 filters-bar row mx-0"},r.a.createElement("div",{className:"col-2"},r.a.createElement(vn.DatePicker,{onChange:n.onFromDateChange.bind(Object(ot.a)(n)),dateFormat:"YYYY/MM/DD",initialDate:n.state.filterFromDate,selected:n.state.filterFromDate})),r.a.createElement("div",{className:"col-2"},r.a.createElement(vn.DatePicker,{onChange:n.onToDateChange.bind(Object(ot.a)(n)),dateFormat:"YYYY/MM/DD",selected:n.state.filterToDate})),r.a.createElement("div",{className:"col-auto"},r.a.createElement("select",{className:"custom-select bg-transparent",onChange:n.onStatusChange},r.a.createElement("option",{value:He,defaultValue:!0},"All"," "),r.a.createElement("option",{value:"1"},"Received"),r.a.createElement("option",{value:"2"},"Failed"),r.a.createElement("option",{value:"3"},"Sent"))),r.a.createElement("div",{className:"col-auto ml-auto"},r.a.createElement("button",{className:"btn btn-green",onClick:Object(se.a)(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.applyFilters();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))},"Apply ",r.a.createElement("i",{className:"fal fa-sliders-v ml-3"}))))),e)))},n.state={filterInitiator:void 0,filterFromDate:void 0,filterToDate:void 0,filterStatus:void 0,myBalance:void 0,loading:!0},n}return Object(P.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=Object(se.a)(re.a.mark(function e(){var t,n,a,r;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.selectedSuggestion){e.next=10;break}return t=new Date,n=(new Date).setMonth(t.getMonth()-1),a=new Date(n),e.next=6,Fn(this.props.selectedSuggestion.tokenAddress,this.props.selectedSuggestion.partnerAddress);case 6:r=e.sent,this.setState({filterInitiator:de,filterTarget:r.partner_address,filterFromDate:a,filterToDate:new Date,myBalance:r.balance,filterStatus:void 0}),e.next=11;break;case 10:this.props.history.push("/channels");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onFromDateChange",value:function(e){this.setState({filterFromDate:new Date(e)})}},{key:"onToDateChange",value:function(e){var t=new Date(e);t.setHours(23,59,59),this.setState({filterToDate:t})}}]),t}(a.Component),Bn=Object(I.a)(function(e){return{selectedSuggestion:e.searchReducer.suggestion?e.searchReducer.suggestion.value:null,payments:e.paymentReducer.payments,tokens:e.dashboardReducer.tokens}},function(e){var t={getPayments:Xe};return Object(l.bindActionCreators)(t,e)})(In),Hn=function(e){function t(e){var n;return Object(T.a)(this,t),(n=Object(x.a)(this,Object(A.a)(t).call(this,e))).render=function(){return r.a.createElement("div",{className:"container-fluid p-5"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h5",{className:"name text-green w-600 m-0"},Pn.getRnsDomainValue()))),r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col text-center"})))},n.state={nodeAddress:void 0},n}return Object(P.a)(t,e),t}(a.Component),qn=Object(I.a)(function(e){return{selectedSuggestion:e.searchReducer.suggestion.value}})(Hn),Un=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement("div",{className:""},r.a.createElement(Ce.ToastContainer,{autoClose:!1,style:{width:"400px",wordBreak:"break-all"}}),r.a.createElement(Mn,null),r.a.createElement(W,null),r.a.createElement("main",null,r.a.createElement(R.a,null,r.a.createElement(M.a,{exact:!0,path:"/",component:fn}),r.a.createElement(M.a,{exact:!0,path:"/dashboard",component:fn}),r.a.createElement(M.a,{exact:!0,path:"/tokens",component:nn}),r.a.createElement(M.a,{exact:!0,path:"/channels",component:Qt}),r.a.createElement(M.a,{exact:!0,path:"/payments",component:Cn}),r.a.createElement(M.a,{exact:!0,path:"/nodeDetail",component:gn}),r.a.createElement(M.a,{exact:!0,path:"/channelDetail",component:Bn}),r.a.createElement(M.a,{exact:!0,path:"/tokenDetail",component:qn}))))},n}return Object(P.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.props.pollDashboard()}}]),t}(a.Component),Zn=Object(I.a)(function(e){return{}},{pollDashboard:an})(Un),Yn=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(D.a,null,r.a.createElement(R.a,null,r.a.createElement(M.a,{path:"/",component:Zn})))},n}return Object(P.a)(t,e),t}(a.Component),Jn=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(x.a)(this,(e=Object(A.a)(t)).call.apply(e,[this].concat(s)))).render=function(){return r.a.createElement(_.a,{store:n.props.store},r.a.createElement(Yn,null))},n}return Object(P.a)(t,e),t}(a.Component),Vn=function(e){var t=Object(c.composeWithDevTools)(Object(l.applyMiddleware)(L.a));return Object(l.createStore)(j,e,t)}();o.a.render(r.a.createElement(Jn,{store:Vn}),document.getElementById("root"))},490:function(e,t,n){e.exports=n(1078)},496:function(e,t,n){},530:function(e,t){},532:function(e,t){},621:function(e,t){},683:function(e,t){}},[[490,1,2]]]);
//# sourceMappingURL=main.5f57e6e1.chunk.js.map